<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /*
      Proxy:
        Proxy 对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等
      参数:
        target:
            要使用 Proxy 包装的目标对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理)
        handler:
            一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理 p 的行为
    */
    // let obj = {}

    // const p = new Proxy(obj, {
    //   get(obj, prop, value) {
    //     console.log(obj, prop, value)
    //     return value
    //   }
    // })
    // console.log(p) // 被代理后的对象，对这个对象进行任何的操作，都会被转发到obj上
    // console.log(p.a)
    // p.a = 3
    // console.log(p)
    // console.log(obj)


    // let obj = {
    //   a: 1,
    //   b: {
    //     c: 2
    //   }
    // }
    // const p = new Proxy(obj, {
    //   get(obj, prop, value) {
    //     console.log(11111)
    //     return obj[prop]
    //   },
    //   set(obj, prop, value) {
    //     console.log(obj, prop, value)
    //     obj[prop] = value
    //   }
    // })
    // // console.log(p) // 不会触发get
    // // console.log(obj.a) // 不会触发get
    // // console.log(p.a) // 触发get
    // // console.log(p.b) // 触发get
    // // console.log(p.b.c) // 触发get
    // p.d = 4
    // console.log(p.d) // 会触发get
    // console.log(obj.d) // 不会触发get


    // let obj = {
    //   arr: [1, 2, 3],
    //   a: {
    //     b: {
    //       c: 2
    //     }
    //   },
    //   arr2: [[1, 2], [[2, 3, 4]]]
    // }
    // const p = new Proxy(obj, {
    //   get(obj, prop, value) {
    //     console.log(111)
    //     return obj[prop]
    //   },
    //   set(obj, prop, value) {
    //     obj[prop] = value
    //   }
    // })
    // p.a.b.c = 3
    // console.log(p)

    // p.arr[0] = 2
    // console.log(p)
    // p.arr2[0][1] = 3
    // console.log(p)

    // let arr = [1, 2, 3, 4, [555, 6]]
    // const p = new Proxy(arr, {
    //   get(obj, prop, value) {
    //     console.log(1111)
    //     return obj[prop]
    //   },
    //   set(obj, prop, value) {
    //     obj[prop] = value
    //   }
    // })

    // console.log(p)
    // p[0] = 3
    // console.log(p)
  </script>
</body>

</html>